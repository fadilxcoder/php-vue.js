<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>PHP | MySQL | Vue.js | Axios - @fadilxcoder</title>
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
		<link href="assets/style.css" rel="stylesheet">
	</head>
	<body>
		<div class="container-fluid" id="crudApp">    
  			<div class="row content">
  				<div class="col-sm-12">
  				    <br><br>
					<div class="panel panel-default">
						<div class="panel-heading">
							<div class="row">
								<div class="col-md-12 text-right">
									<input type="button" class="btn btn-success btn-md" @click="openModel" value="Add" />
								</div>
							</div>
						</div>
						<div class="panel-body">
							<div class="table-responsive text-center">
								<table class="table table-bordered table-striped">
									<tr>
										<th>Name</th>
										<th>Email</th>
										<th>City</th>
										<th>Country</th>
										<th>Job</th>
										<th>Edit</th>
										<th>Delete</th>
									</tr>
									<tr v-for="row in allData">
										<td>{{ row.name }}</td>
										<td>{{ row.email }}</td>
										<td>{{ row.city }}</td>
										<td>{{ row.country }}</td>
										<td>{{ row.job }}</td>
										<td><button type="button" name="edit" class="btn btn-primary btn-xs edit" @click="fetchData(row.id)">Edit</button></td>
										<td><button type="button" name="delete" class="btn btn-danger btn-xs delete" @click="deleteData(row.id)">Delete</button></td>
									</tr>
								</table>
							</div>
						</div>
					</div>
					<div v-if="myModel">
						<transition name="model">
							<div class="modal-mask">
								<div class="modal-wrapper">
									<div class="modal-dialog">
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" @click="myModel=false"><span aria-hidden="true">&times;</span></button>
												<h4 class="modal-title">{{ dynamicTitle }}</h4>
											</div>
											<div class="modal-body">
												<p class="lead">{{ description }}</p>
												<div class="form-group">
													<label>Enter Name</label>
													<input type="text" class="form-control" v-model="name"/>
												</div>
												<div class="form-group">
													<label>Enter Email</label>
													<input type="text" class="form-control" v-model="email"/>
												</div>
												<div class="form-group">
													<label>Enter City</label>
													<input type="text" class="form-control" v-model="city"/>
												</div>
												<div class="form-group">
													<label>Enter Country</label>
													<input type="text" class="form-control" v-model="country"/>
												</div>
												<div class="form-group">
													<label>Enter Job</label>
													<input type="text" class="form-control" v-model="job" />
												</div>
												<br />
												<div class="text-right">
													<input type="hidden" v-model="hiddenId" />
													<input type="hidden" v-model="event" />
													<input type="button" class="btn btn-success btn-md" v-model="actionButton" @click="submitData" />
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</transition>
					</div>
  				</div>
  			</div>
  		</div>
  		<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
		<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script type="text/javascript" src="assets/script.js"></script>
	</body>
</html>